<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.koreait.ohouse.UserMapper">

	<insert id="insUser">
		INSERT INTO t_user 
		(email_id, user_pw, gender, nm, ph)
		VALUES
		(#{email_id}, #{user_pw}, #{gender} ,#{nm}, #{ph})
	</insert>
	
	<select id="selUser" resultType="UserEntity">
		SELECT * FROM t_user
		where email_id = #{email_id}
		
	</select>
	
	<update id="updUser">
		UPDATE t_user 
		<set>
			user_pw =#{user_pw},
			nm = #{nm},
			gender=#{gender},
			ph = #{ph}
		</set>
		
		<where>
			<if test="i_user > 0">
				i_user = #{i_user}
			</if>
			<if test="user_id != null and user_id !=''">
				AND user_id = #{user_id}
			</if>
		</where>
		
	</update>
	
	<delete id="delUser">
		DELETE from t_user
		where i_user = #{i_user}
		AND user_pw =#{user_pw}
	</delete>

</mapper>